(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{12:function(e,t,a){e.exports={movieElement:"Movie_movieElement__2OCMV",movieBlock:"Movie_movieBlock__2dAkE",movieInfo:"Movie_movieInfo__nkucV",buttonMore:"Movie_buttonMore__2TUsR",moviePhoto:"Movie_moviePhoto__1Cr60",rating:"Movie_rating__zY7QC",genres:"Movie_genres__RBJEa",subtitle:"Movie_subtitle__2SsV3",title:"Movie_title__2L-f1",year:"Movie_year__1wctI"}},13:function(e,t,a){e.exports={pagination:"Pagination_pagination__1JK3E",button:"Pagination_button__39tk5",disable:"Pagination_disable__BH6_F",currentPage:"Pagination_currentPage__1WnQd"}},24:function(e,t,a){e.exports={header:"Header_header__3Jr8P",headerBody:"Header_headerBody__3AS-1",backButton:"Header_backButton__Uf6KT"}},3:function(e,t,a){e.exports={detailsContainer:"MovieDetailsPage_detailsContainer__2Lpan",left:"MovieDetailsPage_left__3toFz",image:"MovieDetailsPage_image__3Q8kQ",coverImage:"MovieDetailsPage_coverImage__1-ibu",ratingBlock:"MovieDetailsPage_ratingBlock__NFGU4",ratingNum:"MovieDetailsPage_ratingNum__3mQtg",right:"MovieDetailsPage_right__2db_M",trailer:"MovieDetailsPage_trailer__h_AJj",shortInfoMovie:"MovieDetailsPage_shortInfoMovie__2T02D",titleMovie:"MovieDetailsPage_titleMovie__1ilTZ",yearMovie:"MovieDetailsPage_yearMovie__3R7xL",genreItem:"MovieDetailsPage_genreItem__Y_P58",synopsis:"MovieDetailsPage_synopsis__2ZHPe",movieAbout:"MovieDetailsPage_movieAbout__1k4kU",commentsBody:"MovieDetailsPage_commentsBody__2BXXF",commentsTitle:"MovieDetailsPage_commentsTitle__ft0YZ",outputComments:"MovieDetailsPage_outputComments__3tMvF",comment:"MovieDetailsPage_comment__3CB52",author:"MovieDetailsPage_author__2lD06",time:"MovieDetailsPage_time__2hnoA",text:"MovieDetailsPage_text__fD_wk",delButton:"MovieDetailsPage_delButton__3jkNw",delImg:"MovieDetailsPage_delImg__2YHij",inputArea:"MovieDetailsPage_inputArea__3Ov_L",buttonComm:"MovieDetailsPage_buttonComm__1n_a8"}},30:function(e,t,a){e.exports={loaderImage:"Loader_loaderImage__1ySUm",loaderBody:"Loader_loaderBody__2LfOQ"}},41:function(e,t,a){e.exports={moviesContainer:"Movies_moviesContainer__PumO3"}},47:function(e,t,a){},48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),c=a(21),o=a.n(c),r=(a(47),a(48),a(14)),s=a(6),l=a(19),m=a.n(l),u=a(27),d=a(10),v=a(40).create({baseURL:"https://yts.mx/api/v2/"}),j=function(e){return v.get("list_movies.json?page=".concat(e,"&limit=16")).then((function(e){return e.data}))},b=function(e){return v.get("movie_details.json?movie_id=".concat(e)).then((function(e){return e.data}))},_="SET_MOVIES",g="SET_IS_FETCHING",O="SET_MOVIE_COUNT",h="SET_LIMIT",f="SET_CURRENT_MOVIE",x="SET_CURRENT_PAGE",p={isFetching:!1,movie_count:0,limit:0,page_number:1,moviesList:[],currentMovie:null,comments:[]},M=function(e){return{type:g,payload:e}},N=function(e){return{type:x,payload:e}},A=function(e){return{type:f,payload:e}},I=function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(!0)),t.next=3,j(e);case 3:i=t.sent,a((o=i.data.movies,{type:_,payload:o})),a((c=i.data.movie_count,{type:O,payload:c})),a((n=i.data.limit,{type:h,payload:n})),a(N(e)),a(M(!1));case 9:case"end":return t.stop()}var n,c,o}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(d.a)(Object(d.a)({},e),{},{moviesList:t.payload});case g:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.payload});case O:return Object(d.a)(Object(d.a)({},e),{},{movie_count:t.payload});case h:return Object(d.a)(Object(d.a)({},e),{},{limit:t.payload});case f:return Object(d.a)(Object(d.a)({},e),{},{currentMovie:t.payload});case x:return Object(d.a)(Object(d.a)({},e),{},{page_number:t.payload});default:return e}},P=a(13),D=a.n(P),B=a(1);var C=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return{currentPage:e.movies.page_number,isFetching:e.movies.isFetching}})),a=t.currentPage,i=t.isFetching,n=function(t){e(I(t))};return Object(B.jsxs)("div",{className:D.a.pagination,children:[a-1>0&&Object(B.jsx)("div",{className:i?D.a.button+" "+D.a.disable:D.a.button,onClick:function(){return n(a-1)},children:a-1}),Object(B.jsx)("div",{className:D.a.button+" "+D.a.currentPage,children:a}),Object(B.jsx)("div",{className:i?D.a.button+" "+D.a.disable:D.a.button,onClick:function(){return n(a+1)},children:a+1})]})},E=a.p+"static/media/send.0dd77763.svg",S=a(24),k=a.n(S);var T=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return{currentMovie:e.movies.currentMovie}})).currentMovie,a=function(){e(A(null))};return Object(B.jsx)("div",{className:k.a.header,children:Object(B.jsxs)("div",{className:k.a.headerBody,children:[Object(B.jsx)(r.b,{to:"/",children:Object(B.jsx)("div",{onClick:function(){return t&&a()},children:Object(B.jsx)("span",{children:t?t.title:"Movies"})})}),t?Object(B.jsx)(r.b,{to:"/",children:Object(B.jsx)("div",{className:k.a.backButton,onClick:function(){return a()},children:Object(B.jsx)("img",{src:E,alt:""})})}):Object(B.jsx)(C,{})]})})},w=a(18),H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJzSURBVHgBxZfNchJBEMe7eyFGT0thzi6HlOBFeAKXN0iewGDEKk+BJ0j5BOI1kUKeQN9A3kBuYHnIeLJKQ7EXP0rZGXuokIJkdmF2CflVUezO7M709H+6exYgBbsn38vF0x8+pIAgIcX2+UHGcT4h0cdSe9SAhCQ2AAGP526PISGJDNCr5z9vrslNKkUyDyA9vdbkOIm8gGBJsfPNQ7l1ZupTUlaH9Z0eWGDtAZJbkStFxD2wxMoDcau/IPhNVBC1XAArYucBmfWXPOHem0ysQtLKgCuhZ0QRHYEFCxJ4nTN3+8+2C5mMB4TsbnQVSBeIHrC+HijlrzIob4aeUkqAlF8RKAhRCVIqCPn3L/tTiFrhUiIsdcZHIBW7TXmwSRD7vKAuPmqPxoq1g9shIIUg4PbQBtA+XwjYPEL9pSoNazlxh6gy1WRD8Abtcb6oDF/mxEIUlN6et9gQqzBKMHt38Pz+wex2IQ9wR4Pz+Su4IZDHnp982mZ68OHpqEEEr2GdSNkc1HdaV5sjawHLscfJp5M2RHmCQEq5H1UlI1Mxu+oDv/gGUsIbrhtXouNrgeM8gbQQPY7tju1UqgxpWTJGpAH6yL2mFO3qscDWgAyiD2sibqxoCXAN+l+gYvZBtAG0vDyzRO/0Ll/2HIeiH9N3naVnP4S+CmVzFl67J+NyxpHvYfFbYQHO/TnTWdHoAQyzZfO8EEwz2rN8ZT62v7zI9QeH+YKU0ISIyno3DH1Tu9EAZQgd7e5ffOI1pdMZn+v5FutdNcmiIsIxag/0Lq+0u/UHx2G+tspxW5f3IRecScglft4bhAJs0Lqm/fTW6JoSN85/K4nzzf9vonwAAAAASUVORK5CYII=",F=a.p+"static/media/nullPictureMovie.f1660d0e.png",U=a(12),L=a.n(U);var R=function(e){var t=e.img,a=e.preloader,n=Object(i.useState)(!1),c=Object(w.a)(n,2),o=c[0],r=c[1],s=new Image;return s.src=t,s.onload=function(){r(!0)},o?Object(B.jsx)("img",{className:L.a.moviePhoto,src:t,alt:""}):Object(B.jsx)("img",{className:L.a.moviePhoto,src:a,alt:""})},Q=function(e){var t=e.id,a=e.movieImage,i=e.title,n=e.year,c=e.genres,o=e.rating;return Object(B.jsx)("div",{className:L.a.movieElement,children:Object(B.jsxs)(r.b,{to:"/movie/"+t,children:[Object(B.jsxs)("div",{className:L.a.movieBlock,children:[Object(B.jsx)(R,{img:a,preloader:F}),Object(B.jsxs)("div",{className:L.a.movieInfo,children:[Object(B.jsxs)("div",{className:L.a.rating,children:[Object(B.jsx)("img",{src:H,alt:""}),Object(B.jsx)("div",{children:0===o?"No rating":o})]}),Object(B.jsx)("div",{className:L.a.genres,children:c&&c.map((function(e,t){return Object(B.jsx)("div",{children:e},t)}))}),Object(B.jsx)("button",{className:L.a.buttonMore,children:"More"})]})]}),Object(B.jsxs)("div",{className:L.a.subtitle,children:[Object(B.jsx)("div",{className:L.a.title,children:i}),Object(B.jsx)("div",{className:L.a.year,children:n})]})]})})},J=a.p+"static/media/loading.464a6fda.gif",z=a(30),Y=a.n(z);var G=function(){return Object(B.jsx)("div",{className:Y.a.loaderBody,children:Object(B.jsx)("img",{className:Y.a.loaderImage,src:J,alt:""})})},V=a(41),X=a.n(V);var Z=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return{moviesList:e.movies.moviesList,isFetching:e.movies.isFetching,page:e.movies.page_number}})),a=Object(i.useCallback)((function(){e(I(t.page))}),[e,t.page]);return Object(i.useEffect)((function(){a()}),[a]),Object(B.jsx)(B.Fragment,{children:t.isFetching?Object(B.jsx)(G,{}):Object(B.jsx)("div",{className:X.a.moviesContainer,children:t.moviesList.map((function(e,t){return Object(B.jsx)(Q,{id:e.id,movieImage:e.large_cover_image,title:e.title,year:e.year,rating:e.rating,genres:e.genres},t)}))})})},K=a(4),q=a(31),W=a.p+"static/media/garbage.f72d87d4.png",$=a(3),ee=a.n($);var te=function(e){var t=e.match,a=Object(s.b)(),n=t.params.movieId,c=Object(i.useCallback)((function(){a(function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(!0)),t.next=3,b(e);case 3:i=t.sent,a(A(i.data.movie)),a(M(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}),[a,n]);Object(i.useEffect)((function(){c(),f()}),[c]),Object(i.useEffect)((function(){return function(){return a(A(null))}}),[a]);var o=Object(s.c)((function(e){return{isFetching:e.movies.isFetching,currentMovie:e.movies.currentMovie,comments:e.movies.comments}})),r=Object(i.useState)(""),l=Object(w.a)(r,2),d=l[0],v=l[1],j=Object(i.useState)([]),_=Object(w.a)(j,2),g=_[0],O=_[1],h=function(e){if(e){var t=(new Date).toString().slice(0,24),a={commentId:Math.floor(Math.random()*Math.pow(10,5)),movieId:n,commentText:e,time:t,author:"You"};return O([].concat(Object(q.a)(g),[a])),v(""),a}},f=function(){var e=localStorage.getItem("commentsDB"),t=JSON.parse(e);t&&O(t)};return Object(B.jsx)(B.Fragment,{children:o.isFetching?Object(B.jsx)(G,{}):o.currentMovie&&Object(B.jsxs)("div",{className:ee.a.detailsContainer,children:[Object(B.jsx)("div",{className:ee.a.left,children:Object(B.jsxs)("div",{className:ee.a.image,children:[Object(B.jsx)("img",{className:ee.a.coverImage,src:o.currentMovie.large_cover_image,alt:""}),Object(B.jsxs)("div",{className:ee.a.ratingBlock,children:[Object(B.jsx)("img",{src:H,alt:""}),Object(B.jsx)("div",{className:ee.a.ratingNum,children:o.currentMovie.rating})]})]})}),Object(B.jsxs)("div",{className:ee.a.right,children:[Object(B.jsxs)("div",{className:ee.a.shortInfoMovie,children:[Object(B.jsx)("div",{className:ee.a.titleMovie,children:o.currentMovie.title}),Object(B.jsx)("div",{className:ee.a.trailer,children:o.currentMovie.yt_trailer_code?Object(B.jsx)("a",{href:"https://www.youtube.com/watch?v=".concat(o.currentMovie.yt_trailer_code),children:Object(B.jsx)("button",{children:"TRAILER"})}):Object(B.jsx)("a",{href:"https://www.youtube.com/results?search_query=".concat(o.currentMovie.title," trailer"),children:Object(B.jsx)("button",{children:"TRAILER"})})}),Object(B.jsx)("div",{className:ee.a.yearMovie,children:o.currentMovie.year}),Object(B.jsx)("div",{children:o.currentMovie.genres.map((function(e,t){return Object(B.jsx)("div",{className:ee.a.genreItem,children:e},"".concat(e,"_").concat(t))}))}),Object(B.jsx)("div",{className:ee.a.synopsis,children:"Synopsis"}),Object(B.jsx)("div",{className:ee.a.movieAbout,children:o.currentMovie.description_full})]}),Object(B.jsx)("div",{className:ee.a.commentsBody,children:Object(B.jsxs)("form",{action:"",onSubmit:function(e){return function(e){e.preventDefault(),localStorage.setItem("commentsDB",JSON.stringify(g))}(e)},onKeyDown:function(e){"Enter"===e.code&&localStorage.setItem("commentsDB",JSON.stringify([].concat(Object(q.a)(g),[h(d)])))},children:[Object(B.jsx)("div",{className:ee.a.commentsTitle,children:"Comments"}),Object(B.jsx)("div",{className:ee.a.outputComments,children:g&&g.filter((function(e){return e.movieId===n})).map((function(e,t){return Object(B.jsxs)("div",{className:ee.a.comment,children:[Object(B.jsx)("div",{className:ee.a.author,children:e.author}),Object(B.jsx)("div",{className:ee.a.time,children:e.time}),Object(B.jsx)("div",{className:ee.a.text,children:e.commentText}),Object(B.jsx)("div",{className:ee.a.delButton,onClick:function(){return function(e){var t=g.filter((function(t){return t.commentId!==e}));O(t),localStorage.setItem("commentsDB",JSON.stringify(t))}(e.commentId)},children:Object(B.jsx)("img",{className:ee.a.delImg,src:W,alt:""})})]},"".concat(e,"_").concat(t))}))}),Object(B.jsxs)("div",{className:ee.a.inputArea,children:[Object(B.jsx)("textarea",{onChange:function(e){v(d.trim()?e.target.value:e.target.value.trim())},value:d,placeholder:"Leave a comment"}),Object(B.jsx)("br",{}),Object(B.jsx)("button",{type:"submit",className:ee.a.buttonComm,onClick:function(){return h(d)},children:Object(B.jsx)("img",{src:E,alt:""})})]})]})})]})]})})};var ae=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(T,{}),Object(B.jsxs)("div",{className:"container",children:[Object(B.jsx)(K.a,{exact:!0,path:"/",component:Z}),Object(B.jsx)(K.a,{path:"/movie/:movieId?",component:te})]})]})},ie=a(20),ne=a(42),ce=Object(ie.b)({movies:y}),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.c,re=Object(ie.d)(ce,oe(Object(ie.a)(ne.a)));o.a.render(Object(B.jsx)(n.a.StrictMode,{children:Object(B.jsx)(s.a,{store:re,children:Object(B.jsx)(r.a,{children:Object(B.jsx)(ae,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.40b0f3fa.chunk.js.map