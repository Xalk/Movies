(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{12:function(e,t,a){e.exports={movieElement:"Movie_movieElement__2OCMV",movieBlock:"Movie_movieBlock__2dAkE",movieInfo:"Movie_movieInfo__nkucV",buttonMore:"Movie_buttonMore__2TUsR",moviePhoto:"Movie_moviePhoto__1Cr60",rating:"Movie_rating__zY7QC",genres:"Movie_genres__RBJEa",subtitle:"Movie_subtitle__2SsV3",title:"Movie_title__2L-f1",year:"Movie_year__1wctI"}},15:function(e,t,a){e.exports={pagination:"Pagination_pagination__1JK3E",button:"Pagination_button__39tk5",currentPage:"Pagination_currentPage__1WnQd"}},24:function(e,t,a){e.exports={header:"Header_header__3Jr8P",headerBody:"Header_headerBody__3AS-1",backButton:"Header_backButton__Uf6KT"}},3:function(e,t,a){e.exports={detailsContainer:"MovieDetailsPage_detailsContainer__2Lpan",left:"MovieDetailsPage_left__3toFz",image:"MovieDetailsPage_image__3Q8kQ",coverImage:"MovieDetailsPage_coverImage__1-ibu",ratingBlock:"MovieDetailsPage_ratingBlock__NFGU4",ratingNum:"MovieDetailsPage_ratingNum__3mQtg",right:"MovieDetailsPage_right__2db_M",shortInfoMovie:"MovieDetailsPage_shortInfoMovie__2T02D",titleMovie:"MovieDetailsPage_titleMovie__1ilTZ",yearMovie:"MovieDetailsPage_yearMovie__3R7xL",genreItem:"MovieDetailsPage_genreItem__Y_P58",synopsis:"MovieDetailsPage_synopsis__2ZHPe",movieAbout:"MovieDetailsPage_movieAbout__1k4kU",commentsBody:"MovieDetailsPage_commentsBody__2BXXF",commentsTitle:"MovieDetailsPage_commentsTitle__ft0YZ",outputComments:"MovieDetailsPage_outputComments__3tMvF",comment:"MovieDetailsPage_comment__3CB52",author:"MovieDetailsPage_author__2lD06",time:"MovieDetailsPage_time__2hnoA",text:"MovieDetailsPage_text__fD_wk",delButton:"MovieDetailsPage_delButton__3jkNw",inputArea:"MovieDetailsPage_inputArea__3Ov_L",buttonComm:"MovieDetailsPage_buttonComm__1n_a8"}},30:function(e,t,a){e.exports={loaderImage:"Loader_loaderImage__1ySUm",loaderBody:"Loader_loaderBody__2LfOQ"}},41:function(e,t,a){e.exports={moviesContainer:"Movies_moviesContainer__PumO3"}},47:function(e,t,a){},48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(21),o=a.n(c),r=(a(47),a(48),a(13)),s=a(6),l=a(19),m=a.n(l),u=a(27),v=a(10),d=a(40).create({baseURL:"https://yts.mx/api/v2/"}),j=function(e){return d.get("list_movies.json?page=".concat(e,"&limit=16")).then((function(e){return e.data}))},b=function(e){return d.get("movie_details.json?movie_id=".concat(e)).then((function(e){return e.data}))},_="SET_MOVIES",g="SET_IS_FETCHING",O="SET_MOVIE_COUNT",h="SET_LIMIT",f="SET_CURRENT_MOVIE",x="SET_CURRENT_PAGE",p={isFetching:!1,movie_count:0,limit:0,page_number:1,moviesList:[],currentMovie:null,comments:[]},M=function(e){return{type:g,payload:e}},N=function(e){return{type:x,payload:e}},A=function(e){return{type:f,payload:e}},I=function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(!0)),t.next=3,j(e);case 3:n=t.sent,a((o=n.data.movies,{type:_,payload:o})),a((c=n.data.movie_count,{type:O,payload:c})),a((i=n.data.limit,{type:h,payload:i})),a(N(e)),a(M(!1));case 9:case"end":return t.stop()}var i,c,o}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(v.a)(Object(v.a)({},e),{},{moviesList:t.payload});case g:return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.payload});case O:return Object(v.a)(Object(v.a)({},e),{},{movie_count:t.payload});case h:return Object(v.a)(Object(v.a)({},e),{},{limit:t.payload});case f:return Object(v.a)(Object(v.a)({},e),{},{currentMovie:t.payload});case x:return Object(v.a)(Object(v.a)({},e),{},{page_number:t.payload});default:return e}},P=a(15),B=a.n(P),D=a(1);var C=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return{currentPage:e.movies.page_number}})).currentPage,a=function(t){e(I(t))};return Object(D.jsxs)("div",{className:B.a.pagination,children:[t-1>0&&Object(D.jsx)("div",{className:B.a.button,onClick:function(){return a(t-1)},children:t-1}),Object(D.jsx)("div",{className:B.a.button+" "+B.a.currentPage,children:t}),Object(D.jsx)("div",{className:B.a.button,onClick:function(){return a(t+1)},children:t+1})]})},S=a.p+"static/media/send.0dd77763.svg",E=a(24),k=a.n(E);var T=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return{currentMovie:e.movies.currentMovie}})).currentMovie,a=function(){e(A(null))};return Object(D.jsx)("div",{className:k.a.header,children:Object(D.jsxs)("div",{className:k.a.headerBody,children:[Object(D.jsx)(r.b,{to:"/",children:Object(D.jsx)("div",{onClick:function(){return t&&a()},children:Object(D.jsx)("span",{children:t?t.title:"Movies"})})}),t?Object(D.jsx)(r.b,{to:"/",children:Object(D.jsx)("div",{className:k.a.backButton,onClick:function(){return a()},children:Object(D.jsx)("img",{src:S,alt:""})})}):Object(D.jsx)(C,{})]})})},H=a(18),U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJzSURBVHgBxZfNchJBEMe7eyFGT0thzi6HlOBFeAKXN0iewGDEKk+BJ0j5BOI1kUKeQN9A3kBuYHnIeLJKQ7EXP0rZGXuokIJkdmF2CflVUezO7M709H+6exYgBbsn38vF0x8+pIAgIcX2+UHGcT4h0cdSe9SAhCQ2AAGP526PISGJDNCr5z9vrslNKkUyDyA9vdbkOIm8gGBJsfPNQ7l1ZupTUlaH9Z0eWGDtAZJbkStFxD2wxMoDcau/IPhNVBC1XAArYucBmfWXPOHem0ysQtLKgCuhZ0QRHYEFCxJ4nTN3+8+2C5mMB4TsbnQVSBeIHrC+HijlrzIob4aeUkqAlF8RKAhRCVIqCPn3L/tTiFrhUiIsdcZHIBW7TXmwSRD7vKAuPmqPxoq1g9shIIUg4PbQBtA+XwjYPEL9pSoNazlxh6gy1WRD8Abtcb6oDF/mxEIUlN6et9gQqzBKMHt38Pz+wex2IQ9wR4Pz+Su4IZDHnp982mZ68OHpqEEEr2GdSNkc1HdaV5sjawHLscfJp5M2RHmCQEq5H1UlI1Mxu+oDv/gGUsIbrhtXouNrgeM8gbQQPY7tju1UqgxpWTJGpAH6yL2mFO3qscDWgAyiD2sibqxoCXAN+l+gYvZBtAG0vDyzRO/0Ll/2HIeiH9N3naVnP4S+CmVzFl67J+NyxpHvYfFbYQHO/TnTWdHoAQyzZfO8EEwz2rN8ZT62v7zI9QeH+YKU0ISIyno3DH1Tu9EAZQgd7e5ffOI1pdMZn+v5FutdNcmiIsIxag/0Lq+0u/UHx2G+tspxW5f3IRecScglft4bhAJs0Lqm/fTW6JoSN85/K4nzzf9vonwAAAAASUVORK5CYII=",w=a.p+"static/media/nullPictureMovie.f1660d0e.png",F=a(12),L=a.n(F);var Q=function(e){var t=e.img,a=e.preloader,i=Object(n.useState)(!1),c=Object(H.a)(i,2),o=c[0],r=c[1],s=new Image;return s.src=t,s.onload=function(){r(!0)},o?Object(D.jsx)("img",{className:L.a.moviePhoto,src:t,alt:""}):Object(D.jsx)("img",{className:L.a.moviePhoto,src:a,alt:""})},J=function(e){var t=e.id,a=e.movieImage,n=e.title,i=e.year,c=e.genres,o=e.rating;return Object(D.jsx)("div",{className:L.a.movieElement,children:Object(D.jsxs)(r.b,{to:"/movie/"+t,children:[Object(D.jsxs)("div",{className:L.a.movieBlock,children:[Object(D.jsx)(Q,{img:a,preloader:w}),Object(D.jsxs)("div",{className:L.a.movieInfo,children:[Object(D.jsxs)("div",{className:L.a.rating,children:[Object(D.jsx)("img",{src:U,alt:""}),Object(D.jsx)("div",{children:0===o?"No rating":o})]}),Object(D.jsx)("div",{className:L.a.genres,children:c&&c.map((function(e,t){return Object(D.jsx)("div",{children:e},t)}))}),Object(D.jsx)("button",{className:L.a.buttonMore,children:"More"})]})]}),Object(D.jsxs)("div",{className:L.a.subtitle,children:[Object(D.jsx)("div",{className:L.a.title,children:n}),Object(D.jsx)("div",{className:L.a.year,children:i})]})]})})},R=a.p+"static/media/loading.464a6fda.gif",z=a(30),Y=a.n(z);var G=function(){return Object(D.jsx)("div",{className:Y.a.loaderBody,children:Object(D.jsx)("img",{className:Y.a.loaderImage,src:R,alt:""})})},V=a(41),X=a.n(V);var Z=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return{moviesList:e.movies.moviesList,isFetching:e.movies.isFetching,page:e.movies.page_number}})),a=Object(n.useCallback)((function(){e(I(t.page))}),[e,t.page]);return Object(n.useEffect)((function(){a()}),[a]),Object(D.jsx)(D.Fragment,{children:t.isFetching?Object(D.jsx)(G,{}):Object(D.jsx)("div",{className:X.a.moviesContainer,children:t.moviesList.map((function(e,t){return Object(D.jsx)(J,{id:e.id,movieImage:e.large_cover_image,title:e.title,year:e.year,rating:e.rating,genres:e.genres},t)}))})})},K=a(4),q=a(31),W=a(3),$=a.n(W);var ee=function(e){var t=e.match,a=Object(s.b)(),i=t.params.movieId,c=Object(n.useCallback)((function(){a(function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(!0)),t.next=3,b(e);case 3:n=t.sent,a(A(n.data.movie)),a(M(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i))}),[a,i]);Object(n.useEffect)((function(){c(),f()}),[c]),Object(n.useEffect)((function(){return function(){return a(A(null))}}),[a]);var o=Object(s.c)((function(e){return{isFetching:e.movies.isFetching,currentMovie:e.movies.currentMovie,comments:e.movies.comments}})),r=Object(n.useState)(""),l=Object(H.a)(r,2),v=l[0],d=l[1],j=Object(n.useState)([]),_=Object(H.a)(j,2),g=_[0],O=_[1],h=function(e){if(e){var t=(new Date).toString().slice(0,24),a={commentId:Math.floor(Math.random()*Math.pow(10,5)),movieId:i,commentText:e,time:t,author:"You"};return O([].concat(Object(q.a)(g),[a])),d(""),a}},f=function(){var e=localStorage.getItem("commentsDB"),t=JSON.parse(e);t&&O(t)};return Object(D.jsx)(D.Fragment,{children:o.isFetching?Object(D.jsx)(G,{}):o.currentMovie&&Object(D.jsxs)("div",{className:$.a.detailsContainer,children:[Object(D.jsx)("div",{className:$.a.left,children:Object(D.jsxs)("div",{className:$.a.image,children:[Object(D.jsx)("img",{className:$.a.coverImage,src:o.currentMovie.large_cover_image,alt:""}),Object(D.jsxs)("div",{className:$.a.ratingBlock,children:[Object(D.jsx)("img",{src:U,alt:""}),Object(D.jsx)("div",{className:$.a.ratingNum,children:o.currentMovie.rating})]})]})}),Object(D.jsxs)("div",{className:$.a.right,children:[Object(D.jsxs)("div",{className:$.a.shortInfoMovie,children:[Object(D.jsx)("div",{className:$.a.titleMovie,children:o.currentMovie.title}),Object(D.jsx)("div",{className:$.a.yearMovie,children:o.currentMovie.year}),Object(D.jsx)("div",{children:o.currentMovie.genres.map((function(e,t){return Object(D.jsx)("div",{className:$.a.genreItem,children:e},"".concat(e,"_").concat(t))}))}),Object(D.jsx)("div",{className:$.a.synopsis,children:"Synopsis"}),Object(D.jsx)("div",{className:$.a.movieAbout,children:o.currentMovie.description_full})]}),Object(D.jsx)("div",{className:$.a.commentsBody,children:Object(D.jsxs)("form",{action:"",onSubmit:function(e){return function(e){e.preventDefault(),localStorage.setItem("commentsDB",JSON.stringify(g))}(e)},onKeyDown:function(e){"Enter"===e.code&&localStorage.setItem("commentsDB",JSON.stringify([].concat(Object(q.a)(g),[h(v)])))},children:[Object(D.jsx)("div",{className:$.a.commentsTitle,children:"Comments"}),Object(D.jsx)("div",{className:$.a.outputComments,children:g&&g.filter((function(e){return e.movieId===i})).map((function(e,t){return Object(D.jsxs)("div",{className:$.a.comment,children:[Object(D.jsx)("div",{className:$.a.author,children:e.author}),Object(D.jsx)("div",{className:$.a.time,children:e.time}),Object(D.jsx)("div",{className:$.a.text,children:e.commentText}),Object(D.jsx)("div",{className:$.a.delButton,onClick:function(){return function(e){var t=g.filter((function(t){return t.commentId!==e}));O(t),localStorage.setItem("commentsDB",JSON.stringify(t))}(e.commentId)}})]},"".concat(e,"_").concat(t))}))}),Object(D.jsxs)("div",{className:$.a.inputArea,children:[Object(D.jsx)("textarea",{onChange:function(e){d(v.trim()?e.target.value:e.target.value.trim())},value:v,placeholder:"Leave a comment"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{type:"submit",className:$.a.buttonComm,onClick:function(){return h(v)},children:Object(D.jsx)("img",{src:S,alt:""})})]})]})})]})]})})};var te=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(T,{}),Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)(K.a,{exact:!0,path:"/",component:Z}),Object(D.jsx)(K.a,{path:"/movie/:movieId?",component:ee})]})]})},ae=a(20),ne=a(42),ie=Object(ae.b)({movies:y}),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.c,oe=Object(ae.d)(ie,ce(Object(ae.a)(ne.a)));o.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(s.a,{store:oe,children:Object(D.jsx)(r.a,{children:Object(D.jsx)(te,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.bfdd27a9.chunk.js.map