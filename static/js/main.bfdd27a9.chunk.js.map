{"version":3,"sources":["components/Movie/Movie.module.css","components/Pagination/Pagination.module.css","components/Header/Header.module.css","components/MovieDetailsPage/MovieDetailsPage.module.css","components/Loader/Loader.module.css","components/Movies/Movies.module.css","api/api.js","redux/reducers/moviesReducer.js","components/Pagination/Pagination.jsx","assets/images/send.svg","components/Header/Header.jsx","assets/images/Vector.png","assets/images/nullPictureMovie.png","components/Movie/Movie.jsx","assets/images/loading.gif","components/Loader/Loader.jsx","components/Movies/Movies.jsx","components/MovieDetailsPage/MovieDetailsPage.jsx","App.js","redux/store.js","index.js"],"names":["module","exports","instance","axios","baseURL","moviesAPI","page","get","then","res","data","movieId","SET_MOVIES","SET_IS_FETCHING","SET_MOVIE_COUNT","SET_LIMIT","SET_CURRENT_MOVIE","SET_CURRENT_PAGE","initialState","isFetching","movie_count","limit","page_number","moviesList","currentMovie","comments","setIsFetching","type","payload","setCurrentPage","setCurrentMovie","getMoviesThunk","dispatch","a","movies","count","moviesReducer","state","action","Pagination","useDispatch","currentPage","useSelector","getCurrentPage","className","s","pagination","button","onClick","Header","setCurrentMovieNull","header","headerBody","to","title","backButton","src","back","alt","Img","img","preloader","useState","isLoaded","setIsLoaded","bg","Image","onload","moviePhoto","Movie","id","movieImage","year","genres","rating","movieElement","movieBlock","nullPictureMovie","movieInfo","ratePhoto","map","g","i","buttonMore","subtitle","Loader","loaderBody","loaderImage","loader","Movies","moviesState","initMovies","useCallback","useEffect","moviesContainer","m","large_cover_image","MovieDetailsPage","match","params","initCurrentMovie","movie","getCurrentMovieThunk","initCommentsDB","movieState","commentText","setCommentText","currentComments","setCurrentComments","addComment","text","d","Date","toString","slice","newComment","commentId","Math","floor","random","time","author","dbStr","localStorage","getItem","db","JSON","parse","detailsContainer","left","image","coverImage","ratingBlock","rate","ratingNum","right","shortInfoMovie","titleMovie","yearMovie","genreItem","synopsis","movieAbout","description_full","commentsBody","onSubmit","e","preventDefault","setItem","stringify","handleSubmit","onKeyDown","code","commentsTitle","outputComments","filter","c","comment","delButton","filteredComments","deleteComment","inputArea","onChange","trim","target","value","placeholder","buttonComm","send","App","exact","path","component","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oFACAA,EAAOC,QAAU,CAAC,aAAe,4BAA4B,WAAa,0BAA0B,UAAY,yBAAyB,WAAa,0BAA0B,WAAa,0BAA0B,OAAS,sBAAsB,OAAS,sBAAsB,SAAW,wBAAwB,MAAQ,qBAAqB,KAAO,sB,mBCA5VD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,OAAS,2BAA2B,YAAc,kC,mBCAhHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,2BAA2B,WAAa,6B,kBCAvGD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,KAAO,+BAA+B,MAAQ,gCAAgC,WAAa,qCAAqC,YAAc,sCAAsC,UAAY,oCAAoC,MAAQ,gCAAgC,eAAiB,yCAAyC,WAAa,qCAAqC,UAAY,oCAAoC,UAAY,oCAAoC,SAAW,mCAAmC,WAAa,qCAAqC,aAAe,uCAAuC,cAAgB,wCAAwC,eAAiB,yCAAyC,QAAU,kCAAkC,OAAS,iCAAiC,KAAO,+BAA+B,KAAO,+BAA+B,UAAY,oCAAoC,UAAY,oCAAoC,WAAa,uC,mBCA/jCD,EAAOC,QAAU,CAAC,YAAc,4BAA4B,WAAa,6B,mBCAzED,EAAOC,QAAU,CAAC,gBAAkB,kC,oLCEhCC,E,MAAWC,OAAa,CACxBC,QAAS,2BAIFC,EAAY,SACTC,GACN,OAAOJ,EAASK,IAAT,gCAAsCD,EAAtC,cAAuDE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAF3EL,EAAY,SAKHM,GACZ,OAAOT,EAASK,IAAT,sCAA4CI,IAAWH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SCZhFE,EAAa,aACbC,EAAkB,kBAClBC,EAAkB,kBAClBC,EAAY,YACZC,EAAoB,oBACpBC,EAAmB,mBAErBC,EAAe,CACfC,YAAY,EACZC,YAAa,EACbC,MAAO,EACPC,YAAa,EACbC,WAAY,GACZC,aAAc,KACdC,SAAU,IA6CRC,EAAgB,SAACP,GAAD,MAAiB,CAACQ,KAAMd,EAAiBe,QAAST,IAGlEU,EAAiB,SAACvB,GAAD,MAAW,CAACqB,KAAMV,EAAkBW,QAAStB,IACvDwB,EAAkB,SAACN,GAAD,MAAmB,CAACG,KAAMX,EAAmBY,QAASJ,IAI1EO,EAAiB,SAACzB,GACzB,8CAAO,WAAM0B,GAAN,eAAAC,EAAA,6DACHD,EAASN,GAAc,IADpB,SAEcrB,EAAoBC,GAFlC,OAECI,EAFD,OAGHsB,GAbWE,EAaQxB,EAAKA,KAAKwB,OAbN,CAACP,KAAMf,EAAYgB,QAASM,KAcnDF,GAZeG,EAYQzB,EAAKA,KAAKU,YAZP,CAACO,KAAMb,EAAiBc,QAASO,KAa3DH,GAZUX,EAYQX,EAAKA,KAAKW,MAZP,CAACM,KAAMZ,EAAWa,QAASP,KAahDW,EAASH,EAAevB,IACxB0B,EAASN,GAAc,IAPpB,iCAPM,IAACL,EADKc,EAFJD,IAUR,OAAP,uDAsBWE,EAxEO,WAAmC,IAAlCC,EAAiC,uDAAzBnB,EAAcoB,EAAW,uCAEpD,OAAQA,EAAOX,MACX,KAAKf,EACD,OAAO,2BACAyB,GADP,IAEId,WAAYe,EAAOV,UAE3B,KAAKf,EACD,OAAO,2BACAwB,GADP,IAEIlB,WAAYmB,EAAOV,UAE3B,KAAKd,EACD,OAAO,2BACAuB,GADP,IAEIjB,YAAakB,EAAOV,UAE5B,KAAKb,EACD,OAAO,2BACAsB,GADP,IAEIhB,MAAOiB,EAAOV,UAEtB,KAAKZ,EACD,OAAO,2BACAqB,GADP,IAEIb,aAAcc,EAAOV,UAE7B,KAAKX,EACD,OAAO,2BACAoB,GADP,IAEIf,YAAagB,EAAOV,UAG5B,QACI,OAAOS,I,wBC3BJE,MAvBf,WAEI,IAAMP,EAAWQ,cACVC,EAAeC,aAAY,SAAAL,GAAK,MAAK,CACxCI,YAAaJ,EAAMH,OAAOZ,gBADvBmB,YAIDE,EAAiB,SAACrC,GACpB0B,EAASD,EAAezB,KAG5B,OACI,sBAAKsC,UAAWC,IAAEC,WAAlB,UAEQL,EAAc,EAAI,GAClB,qBAAKG,UAAWC,IAAEE,OAAQC,QAAS,kBAAML,EAAeF,EAAc,IAAtE,SAA2EA,EAAc,IAE7F,qBAAKG,UAAWC,IAAEE,OAAS,IAAMF,IAAEJ,YAAnC,SAAiDA,IACjD,qBAAKG,UAAWC,IAAEE,OAAQC,QAAS,kBAAML,EAAeF,EAAc,IAAtE,SAA2EA,EAAc,QCvBtF,MAA0B,iC,iBCyC1BQ,MAjCf,WACI,IAAIjB,EAAWQ,cACRhB,EAAgBkB,aAAY,SAAAL,GAAK,MAAK,CAACb,aAAca,EAAMH,OAAOV,iBAAlEA,aAID0B,EAAsB,WACxBlB,EAASF,EAAgB,QAG7B,OACI,qBAAKc,UAAWC,IAAEM,OAAlB,SAEI,sBAAKP,UAAWC,IAAEO,WAAlB,UACI,cAAC,IAAD,CAASC,GAAG,IAAZ,SACI,qBAAKL,QAAS,kBAAMxB,GAAgB0B,KAApC,SACI,+BAAO1B,EAAeA,EAAa8B,MAAQ,eAI/C9B,EAAe,cAAC,IAAD,CAAS6B,GAAG,IAAZ,SACX,qBAAKT,UAAWC,IAAEU,WAAYP,QAAS,kBAAME,KAA7C,SACI,qBAAKM,IAAKC,EAAMC,IAAI,SAEf,cAAC,EAAD,U,QChClB,++BCAA,MAA0B,6C,iBC2CzC,IAAMC,EAAM,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,IAAKC,EAAe,EAAfA,UAAe,EACEC,oBAAS,GADX,mBACvBC,EADuB,KACbC,EADa,KAG1BC,EAAK,IAAIC,MAMb,OALAD,EAAGT,IAAMI,EACTK,EAAGE,OAAS,WACRH,GAAY,IAGTD,EAAW,qBAAKnB,UAAWC,IAAEuB,WAAYZ,IAAKI,EAAKF,IAAI,KAC1D,qBAAKd,UAAWC,IAAEuB,WAAaZ,IAAKK,EAAWH,IAAI,MAI5CW,EAnDf,YAA+D,IAA/CC,EAA8C,EAA9CA,GAAIC,EAA0C,EAA1CA,WAAYjB,EAA8B,EAA9BA,MAAOkB,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,OAAQC,EAAS,EAATA,OACjD,OACI,qBAAK9B,UAAWC,IAAE8B,aAAlB,SACI,eAAC,IAAD,CAAStB,GAAI,UAAYiB,EAAzB,UACI,sBAAK1B,UAAWC,IAAE+B,WAAlB,UAEQ,cAAC,EAAD,CAAKhB,IAAKW,EAAYV,UAAWgB,IAGrC,sBAAKjC,UAAWC,IAAEiC,UAAlB,UACI,sBAAKlC,UAAWC,IAAE6B,OAAlB,UACI,qBAAKlB,IAAKuB,EAAWrB,IAAI,KACzB,8BACgB,IAAXgB,EAAe,YAAcA,OAItC,qBAAK9B,UAAWC,IAAE4B,OAAlB,SAEQA,GAAUA,EAAOO,KAAI,SAACC,EAAEC,GAAH,OAAS,8BAAcD,GAAJC,QAGhD,wBAAQtC,UAAWC,IAAEsC,WAArB,wBAGR,sBAAKvC,UAAWC,IAAEuC,SAAlB,UACI,qBAAKxC,UAAWC,IAAES,MAAlB,SAA0BA,IAC1B,qBAAKV,UAAWC,IAAE2B,KAAlB,SAAyBA,aCjC9B,MAA0B,oC,iBCY1Ba,MARf,WACI,OACI,qBAAKzC,UAAWC,IAAEyC,WAAlB,SACI,qBAAM1C,UAAWC,IAAE0C,YAAa/B,IAAKgC,EAAQ9B,IAAI,Q,iBC0C9C+B,MA1Cf,WACI,IAAIzD,EAAWQ,cAEXkD,EAAchD,aAAY,SAAAL,GAAK,MAAK,CACpCd,WAAYc,EAAMH,OAAOX,WACzBJ,WAAYkB,EAAMH,OAAOf,WACzBb,KAAM+B,EAAMH,OAAOZ,gBAIjBqE,EAAaC,uBAAY,WAC3B5D,EAASD,EAAe2D,EAAYpF,SACrC,CAAC0B,EAAU0D,EAAYpF,OAO1B,OALAuF,qBAAU,WACNF,MACD,CAACA,IAIA,mCAEQD,EAAYvE,WAAa,cAAC,EAAD,IAAY,qBAAKyB,UAAWC,IAAEiD,gBAAlB,SAE7BJ,EAAYnE,WAAWyD,KAAI,SAACe,EAAEb,GAAH,OAAS,cAAC,EAAD,CAEhCZ,GAAIyB,EAAEzB,GACNC,WAAYwB,EAAEC,kBACd1C,MAAOyC,EAAEzC,MACTkB,KAAMuB,EAAEvB,KACRE,OAAQqB,EAAErB,OACVD,OAAQsB,EAAEtB,QANLS,W,+BCqHlBe,OA5If,YAAoC,IAATC,EAAQ,EAARA,MAEnBlE,EAAWQ,cACX7B,EAAUuF,EAAMC,OAAOxF,QAGrByF,EAAmBR,uBAAY,WACjC5D,EViE0B,SAACrB,GAC/B,8CAAO,WAAMqB,GAAN,eAAAC,EAAA,6DACHD,EAASN,GAAc,IADpB,SAEcrB,EAA0BM,GAFxC,OAECD,EAFD,OAGHsB,EAASF,EAAgBpB,EAAKA,KAAK2F,QACnCrE,EAASN,GAAc,IAJpB,2CAAP,sDUlEa4E,CAAqB3F,MAC/B,CAACqB,EAAUrB,IAEdkF,qBAAU,WACNO,IACAG,MACD,CAACH,IAIJP,qBAAU,WACN,OAAO,kBAAO7D,EAASF,EAAgB,UACxC,CAACE,IAGJ,IAAIwE,EAAa9D,aAAY,SAAAL,GAAK,MAAK,CACnClB,WAAYkB,EAAMH,OAAOf,WACzBK,aAAca,EAAMH,OAAOV,aAC3BC,SAAUY,EAAMH,OAAOT,aAzBI,EA6BOqC,mBAAS,IA7BhB,mBA6BxB2C,EA7BwB,KA6BXC,EA7BW,OA8Be5C,mBAAS,IA9BxB,mBA8BxB6C,EA9BwB,KA8BPC,EA9BO,KAoCzBC,EAAa,SAACC,GAChB,GAAIA,EAAM,CACN,IAAIC,GAAI,IAAIC,MAAOC,WAAWC,MAAM,EAAG,IACnCC,EAAa,CACbC,UAAWC,KAAKC,MAAMD,KAAKE,SAALF,KAAA,IAAgB,GAAM,IAC5C1G,QAASA,EACT8F,YAAaK,EACbU,KAAMT,EACNU,OAAQ,OAIZ,OAFAb,EAAmB,GAAD,mBAAKD,GAAL,CAAsBQ,KACxCT,EAAe,IACRS,IAWTZ,EAAiB,WACnB,IAAImB,EAAQC,aAAaC,QAAQ,cAC7BC,EAAKC,KAAKC,MAAML,GAChBG,GACAjB,EAAmBiB,IAU3B,OACI,mCAEQrB,EAAWrF,WAAa,cAAC,EAAD,IACpBqF,EAAWhF,cAAgB,sBAAKoB,UAAWC,IAAEmF,iBAAlB,UACvB,qBAAKpF,UAAWC,IAAEoF,KAAlB,SACI,sBAAKrF,UAAWC,IAAEqF,MAAlB,UACI,qBAAKtF,UAAWC,IAAEsF,WACb3E,IAAKgD,EAAWhF,aAAawE,kBAAmBtC,IAAI,KACzD,sBAAKd,UAAWC,IAAEuF,YAAlB,UACI,qBAAK5E,IAAK6E,EAAM3E,IAAI,KACpB,qBACId,UAAWC,IAAEyF,UADjB,SAC6B9B,EAAWhF,aAAakD,iBAIjE,sBAAK9B,UAAWC,IAAE0F,MAAlB,UACI,sBAAK3F,UAAWC,IAAE2F,eAAlB,UACI,qBAAK5F,UAAWC,IAAE4F,WAAlB,SAA+BjC,EAAWhF,aAAa8B,QACvD,qBAAKV,UAAWC,IAAE6F,UAAlB,SAA8BlC,EAAWhF,aAAagD,OACtD,8BAAMgC,EAAWhF,aAAaiD,OAAOO,KAAI,SAACC,EAAGC,GAAJ,OAAU,qBAC/CtC,UAAWC,IAAE8F,UADkC,SACJ1D,GADI,UACfA,EADe,YACVC,SACzC,qBAAKtC,UAAWC,IAAE+F,SAAlB,sBACA,qBAAKhG,UAAWC,IAAEgG,WAAlB,SAA+BrC,EAAWhF,aAAasH,sBAE3D,qBAAKlG,UAAWC,IAAEkG,aAAlB,SACI,uBAAMzG,OAAO,GACP0G,SAAU,SAACC,GAAD,OA/CvB,SAACA,GAClBA,EAAEC,iBACFvB,aAAawB,QAAQ,aAAcrB,KAAKsB,UAAUzC,IA6CH0C,CAAaJ,IAC9BK,UAAW,SAACL,GACO,UAAXA,EAAEM,MACF5B,aAAawB,QAAQ,aAAcrB,KAAKsB,UAAL,sBAAmBzC,GAAnB,CAAoCE,EAAWJ,QAJhG,UAQI,qBAAK7D,UAAWC,IAAE2G,cAAlB,sBACA,qBAAK5G,UAAWC,IAAE4G,eAAlB,SAEQ9C,GAAmBA,EAAgB+C,QAAO,SAAA3D,GAAC,OAAIA,EAAEpF,UAAYA,KAASqE,KAAI,SAAC2E,EAAGzE,GAAJ,OACtE,sBAAKtC,UAAWC,IAAE+G,QAAlB,UACI,qBAAKhH,UAAWC,IAAE4E,OAAlB,SAA2BkC,EAAElC,SAC7B,qBAAK7E,UAAWC,IAAE2E,KAAlB,SAAyBmC,EAAEnC,OAC3B,qBAAK5E,UAAWC,IAAEiE,KAAlB,SAAyB6C,EAAElD,cAC3B,qBAAK7D,UAAWC,IAAEgH,UACb7G,QAAS,kBAjDxC,SAACoE,GACnB,IAAI0C,EAAmBnD,EAAgB+C,QAAO,SAAAC,GAAC,OAAIA,EAAEvC,YAAcA,KACnER,EAAmBkD,GACnBnC,aAAawB,QAAQ,aAAcrB,KAAKsB,UAAUU,IA8CcC,CAAcJ,EAAEvC,gBALxC,UAAmCuC,EAAnC,YAAwCzE,SAUpD,sBAAKtC,UAAWC,IAAEmH,UAAlB,UACI,0BAAUC,SA1FtB,SAAChB,GACrBvC,EAAeD,EAAYyD,OAASjB,EAAEkB,OAAOC,MAAQnB,EAAEkB,OAAOC,MAAMF,SA0F1BE,MAAO3D,EAAa4D,YAAY,oBAE/B,uBACX,wBAAQ1I,KAAK,SAASiB,UAAWC,IAAEyH,WAC3BtH,QAAS,kBAAM6D,EAAWJ,IADlC,SAEI,qBAAKjD,IAAK+G,EAAM7G,IAAI,wBCvHjD8G,OAZf,WACI,OACI,qCACI,cAAC,EAAD,IACA,sBAAK5H,UAAU,YAAf,UACI,cAAC,IAAD,CAAO6H,OAAK,EAACC,KAAK,IAAIC,UAAWlF,IACjC,cAAC,IAAD,CAAOiF,KAAK,mBAAmBC,UAAW1E,Y,kBCPtD2E,GAAWC,aAAgB,CAC3B3I,OAAOE,IAGL0I,GAAmBC,OAAOC,sCAAwCC,KAIzDC,GAHDC,aAAYP,GAAUE,GAAiBM,aAAgBC,QCFrEC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACI,cAAC,IAAD,UACI,cAAC,GAAD,UAIZO,SAASC,eAAe,W","file":"static/js/main.bfdd27a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieElement\":\"Movie_movieElement__2OCMV\",\"movieBlock\":\"Movie_movieBlock__2dAkE\",\"movieInfo\":\"Movie_movieInfo__nkucV\",\"buttonMore\":\"Movie_buttonMore__2TUsR\",\"moviePhoto\":\"Movie_moviePhoto__1Cr60\",\"rating\":\"Movie_rating__zY7QC\",\"genres\":\"Movie_genres__RBJEa\",\"subtitle\":\"Movie_subtitle__2SsV3\",\"title\":\"Movie_title__2L-f1\",\"year\":\"Movie_year__1wctI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1JK3E\",\"button\":\"Pagination_button__39tk5\",\"currentPage\":\"Pagination_currentPage__1WnQd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Jr8P\",\"headerBody\":\"Header_headerBody__3AS-1\",\"backButton\":\"Header_backButton__Uf6KT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsContainer\":\"MovieDetailsPage_detailsContainer__2Lpan\",\"left\":\"MovieDetailsPage_left__3toFz\",\"image\":\"MovieDetailsPage_image__3Q8kQ\",\"coverImage\":\"MovieDetailsPage_coverImage__1-ibu\",\"ratingBlock\":\"MovieDetailsPage_ratingBlock__NFGU4\",\"ratingNum\":\"MovieDetailsPage_ratingNum__3mQtg\",\"right\":\"MovieDetailsPage_right__2db_M\",\"shortInfoMovie\":\"MovieDetailsPage_shortInfoMovie__2T02D\",\"titleMovie\":\"MovieDetailsPage_titleMovie__1ilTZ\",\"yearMovie\":\"MovieDetailsPage_yearMovie__3R7xL\",\"genreItem\":\"MovieDetailsPage_genreItem__Y_P58\",\"synopsis\":\"MovieDetailsPage_synopsis__2ZHPe\",\"movieAbout\":\"MovieDetailsPage_movieAbout__1k4kU\",\"commentsBody\":\"MovieDetailsPage_commentsBody__2BXXF\",\"commentsTitle\":\"MovieDetailsPage_commentsTitle__ft0YZ\",\"outputComments\":\"MovieDetailsPage_outputComments__3tMvF\",\"comment\":\"MovieDetailsPage_comment__3CB52\",\"author\":\"MovieDetailsPage_author__2lD06\",\"time\":\"MovieDetailsPage_time__2hnoA\",\"text\":\"MovieDetailsPage_text__fD_wk\",\"delButton\":\"MovieDetailsPage_delButton__3jkNw\",\"inputArea\":\"MovieDetailsPage_inputArea__3Ov_L\",\"buttonComm\":\"MovieDetailsPage_buttonComm__1n_a8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderImage\":\"Loader_loaderImage__1ySUm\",\"loaderBody\":\"Loader_loaderBody__2LfOQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesContainer\":\"Movies_moviesContainer__PumO3\"};","import * as axios from \"axios\";\r\n\r\n\r\nlet instance = axios.create({\r\n    baseURL: 'https://yts.mx/api/v2/'\r\n})\r\n\r\n\r\nexport let moviesAPI = {\r\n    getMovies(page) {\r\n        return instance.get(`list_movies.json?page=${page}&limit=16`).then(res => res.data);\r\n    },\r\n\r\n    getCurrentMovie(movieId) {\r\n        return instance.get(`movie_details.json?movie_id=${movieId}`).then(res => res.data);\r\n    }\r\n}","import {moviesAPI} from \"../../api/api\";\r\n\r\nconst SET_MOVIES = \"SET_MOVIES\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\nconst SET_MOVIE_COUNT = \"SET_MOVIE_COUNT\";\r\nconst SET_LIMIT = \"SET_LIMIT\";\r\nconst SET_CURRENT_MOVIE = \"SET_CURRENT_MOVIE\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\n\r\nlet initialState = {\r\n    isFetching: false,\r\n    movie_count: 0,\r\n    limit: 0,\r\n    page_number: 1,\r\n    moviesList: [],\r\n    currentMovie: null,\r\n    comments: []\r\n}\r\n\r\n\r\nconst moviesReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_MOVIES:\r\n            return {\r\n                ...state,\r\n                moviesList: action.payload\r\n            }\r\n        case SET_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload\r\n            }\r\n        case SET_MOVIE_COUNT:\r\n            return {\r\n                ...state,\r\n                movie_count: action.payload\r\n            }\r\n        case SET_LIMIT:\r\n            return {\r\n                ...state,\r\n                limit: action.payload\r\n            }\r\n        case SET_CURRENT_MOVIE:\r\n            return {\r\n                ...state,\r\n                currentMovie: action.payload\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                page_number: action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nconst setMovies = (movies) => ({type: SET_MOVIES, payload: movies});\r\nconst setIsFetching = (isFetching) => ({type: SET_IS_FETCHING, payload: isFetching});\r\nconst setMovieCount = (count) => ({type: SET_MOVIE_COUNT, payload: count});\r\nconst setLimit = (limit) => ({type: SET_LIMIT, payload: limit});\r\nconst setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, payload: page});\r\nexport const setCurrentMovie = (currentMovie) => ({type: SET_CURRENT_MOVIE, payload: currentMovie});\r\n\r\n\r\n\r\nexport let getMoviesThunk = (page) => {\r\n    return async dispatch => {\r\n        dispatch(setIsFetching(true));\r\n        let data = await moviesAPI.getMovies(page);\r\n        dispatch(setMovies(data.data.movies));\r\n        dispatch(setMovieCount(data.data.movie_count));\r\n        dispatch(setLimit(data.data.limit));\r\n        dispatch(setCurrentPage(page));\r\n        dispatch(setIsFetching(false));\r\n    }\r\n}\r\n\r\nexport let getCurrentMovieThunk = (movieId) => {\r\n    return async dispatch => {\r\n        dispatch(setIsFetching(true));\r\n        let data = await moviesAPI.getCurrentMovie(movieId);\r\n        dispatch(setCurrentMovie(data.data.movie));\r\n        dispatch(setIsFetching(false));\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default moviesReducer;","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getMoviesThunk} from \"../../redux/reducers/moviesReducer\";\r\nimport s from \"./Pagination.module.css\"\r\n\r\nfunction Pagination() {\r\n\r\n    const dispatch = useDispatch();\r\n    const {currentPage} = useSelector(state => ({\r\n        currentPage: state.movies.page_number\r\n    }));\r\n\r\n    const getCurrentPage = (page) => {\r\n        dispatch(getMoviesThunk(page));\r\n    }\r\n\r\n    return (\r\n        <div className={s.pagination}>\r\n            {\r\n                currentPage - 1 > 0 &&\r\n                <div className={s.button} onClick={() => getCurrentPage(currentPage - 1)}>{currentPage - 1}</div>\r\n            }\r\n            <div className={s.button + \" \" + s.currentPage}>{currentPage}</div>\r\n            <div className={s.button} onClick={() => getCurrentPage(currentPage + 1)}>{currentPage + 1}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pagination;","export default __webpack_public_path__ + \"static/media/send.0dd77763.svg\";","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Pagination from \"../Pagination/Pagination\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport back from \"../../assets/images/send.svg\"\r\nimport {setCurrentMovie} from \"../../redux/reducers/moviesReducer\";\r\nimport s from \"./Header.module.css\"\r\n\r\nfunction Header() {\r\n    let dispatch = useDispatch();\r\n    const {currentMovie} = useSelector(state => ({currentMovie: state.movies.currentMovie}));\r\n\r\n\r\n\r\n    const setCurrentMovieNull = () => {\r\n        dispatch(setCurrentMovie(null));\r\n    }\r\n\r\n    return (\r\n        <div className={s.header}>\r\n\r\n            <div className={s.headerBody}>\r\n                <NavLink to=\"/\">\r\n                    <div onClick={() => currentMovie && setCurrentMovieNull()}>\r\n                        <span>{currentMovie ? currentMovie.title : \"Movies\"}</span>\r\n                    </div>\r\n                </NavLink>\r\n                {\r\n                    currentMovie ? <NavLink to=\"/\">\r\n                        <div className={s.backButton} onClick={() => setCurrentMovieNull()}>\r\n                            <img src={back} alt=\"\"/>\r\n                        </div>\r\n                    </NavLink> : <Pagination/>\r\n                }\r\n\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJzSURBVHgBxZfNchJBEMe7eyFGT0thzi6HlOBFeAKXN0iewGDEKk+BJ0j5BOI1kUKeQN9A3kBuYHnIeLJKQ7EXP0rZGXuokIJkdmF2CflVUezO7M709H+6exYgBbsn38vF0x8+pIAgIcX2+UHGcT4h0cdSe9SAhCQ2AAGP526PISGJDNCr5z9vrslNKkUyDyA9vdbkOIm8gGBJsfPNQ7l1ZupTUlaH9Z0eWGDtAZJbkStFxD2wxMoDcau/IPhNVBC1XAArYucBmfWXPOHem0ysQtLKgCuhZ0QRHYEFCxJ4nTN3+8+2C5mMB4TsbnQVSBeIHrC+HijlrzIob4aeUkqAlF8RKAhRCVIqCPn3L/tTiFrhUiIsdcZHIBW7TXmwSRD7vKAuPmqPxoq1g9shIIUg4PbQBtA+XwjYPEL9pSoNazlxh6gy1WRD8Abtcb6oDF/mxEIUlN6et9gQqzBKMHt38Pz+wex2IQ9wR4Pz+Su4IZDHnp982mZ68OHpqEEEr2GdSNkc1HdaV5sjawHLscfJp5M2RHmCQEq5H1UlI1Mxu+oDv/gGUsIbrhtXouNrgeM8gbQQPY7tju1UqgxpWTJGpAH6yL2mFO3qscDWgAyiD2sibqxoCXAN+l+gYvZBtAG0vDyzRO/0Ll/2HIeiH9N3naVnP4S+CmVzFl67J+NyxpHvYfFbYQHO/TnTWdHoAQyzZfO8EEwz2rN8ZT62v7zI9QeH+YKU0ISIyno3DH1Tu9EAZQgd7e5ffOI1pdMZn+v5FutdNcmiIsIxag/0Lq+0u/UHx2G+tspxW5f3IRecScglft4bhAJs0Lqm/fTW6JoSN85/K4nzzf9vonwAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/nullPictureMovie.f1660d0e.png\";","import React, {useState} from 'react';\r\nimport ratePhoto from \"../../assets/images/Vector.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport nullPictureMovie from \"../../assets/images/nullPictureMovie.png\"\r\nimport s from \"./Movie.module.css\"\r\n\r\nfunction Movie({id, movieImage, title, year, genres, rating}) {\r\n    return (\r\n        <div className={s.movieElement}>\r\n            <NavLink to={\"/movie/\" + id}>\r\n                <div className={s.movieBlock}>\r\n                    {\r\n                        <Img img={movieImage} preloader={nullPictureMovie}/>\r\n                    }\r\n\r\n                    <div className={s.movieInfo}>\r\n                        <div className={s.rating}>\r\n                            <img src={ratePhoto} alt=\"\"/>\r\n                            <div>\r\n                                {rating === 0 ? \"No rating\" : rating}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={s.genres}>\r\n                            {\r\n                                genres && genres.map((g,i) => <div key={i}>{g}</div>)\r\n                            }\r\n                        </div>\r\n                        <button className={s.buttonMore}>More</button>\r\n                    </div>\r\n                </div>\r\n                <div className={s.subtitle}>\r\n                    <div className={s.title}>{title}</div>\r\n                    <div className={s.year}>{year}</div>\r\n                </div>\r\n\r\n            </NavLink>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst Img = ({img, preloader}) => {\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    let bg = new Image();\r\n    bg.src = img;\r\n    bg.onload = () => {\r\n        setIsLoaded(true);\r\n    };\r\n\r\n    return isLoaded ? <img className={s.moviePhoto} src={img} alt=\"\"/> :\r\n        <img className={s.moviePhoto}  src={preloader} alt=\"\"/>;\r\n};\r\n\r\n\r\nexport default Movie;","export default __webpack_public_path__ + \"static/media/loading.464a6fda.gif\";","import React from 'react';\r\nimport loader from \"../../assets/images/loading.gif\"\r\nimport s from \"./Loader.module.css\"\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className={s.loaderBody}>\r\n            <img  className={s.loaderImage} src={loader} alt=\"\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loader;\r\n","import React, {useCallback, useEffect} from 'react';\r\nimport Movie from \"../Movie/Movie\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getMoviesThunk} from \"../../redux/reducers/moviesReducer\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport s from \"./Movies.module.css\"\r\n\r\nfunction Movies() {\r\n    let dispatch = useDispatch();\r\n\r\n    let moviesState = useSelector(state => ({\r\n        moviesList: state.movies.moviesList,\r\n        isFetching: state.movies.isFetching,\r\n        page: state.movies.page_number\r\n\r\n    }));\r\n\r\n    const initMovies = useCallback(() => {\r\n        dispatch(getMoviesThunk(moviesState.page));\r\n    }, [dispatch, moviesState.page]);\r\n\r\n    useEffect(() => {\r\n        initMovies();\r\n    }, [initMovies]);\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                moviesState.isFetching ? <Loader/> : <div className={s.moviesContainer}>\r\n                    {\r\n                        moviesState.moviesList.map((m,i) => <Movie\r\n                            key={i}\r\n                            id={m.id}\r\n                            movieImage={m.large_cover_image}\r\n                            title={m.title}\r\n                            year={m.year}\r\n                            rating={m.rating}\r\n                            genres={m.genres}\r\n                        />)\r\n                    }\r\n                </div>\r\n            }\r\n\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Movies;","import React, {useCallback, useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getCurrentMovieThunk, setCurrentMovie} from \"../../redux/reducers/moviesReducer\";\r\nimport rate from \"../../assets/images/Vector.png\";\r\nimport send from \"../../assets/images/send.svg\";\r\nimport s from \"./MovieDetailsPage.module.css\"\r\n\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nfunction MovieDetailsPage({match}) {\r\n\r\n    let dispatch = useDispatch();\r\n    let movieId = match.params.movieId;\r\n\r\n\r\n    const initCurrentMovie = useCallback(() => {\r\n        dispatch(getCurrentMovieThunk(movieId));\r\n    }, [dispatch, movieId]);\r\n\r\n    useEffect(() => {\r\n        initCurrentMovie();\r\n        initCommentsDB();\r\n    }, [initCurrentMovie]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        return () =>  dispatch(setCurrentMovie(null));;\r\n    }, [dispatch]);\r\n\r\n\r\n    let movieState = useSelector(state => ({\r\n        isFetching: state.movies.isFetching,\r\n        currentMovie: state.movies.currentMovie,\r\n        comments: state.movies.comments\r\n    }));\r\n\r\n\r\n    const [commentText, setCommentText] = useState(\"\");\r\n    const [currentComments, setCurrentComments] = useState([]);\r\n\r\n    const onChangeHandler = (e) => {\r\n        setCommentText(commentText.trim() ? e.target.value : e.target.value.trim());\r\n    }\r\n\r\n    const addComment = (text) => {\r\n        if (text) {\r\n            let d = new Date().toString().slice(0, 24);\r\n            let newComment = {\r\n                commentId: Math.floor(Math.random() * 10 ** 5),\r\n                movieId: movieId,\r\n                commentText: text,\r\n                time: d,\r\n                author: \"You\"\r\n            }\r\n            setCurrentComments([...currentComments, newComment]);\r\n            setCommentText(\"\");\r\n            return newComment;\r\n        }\r\n    }\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        localStorage.setItem(\"commentsDB\", JSON.stringify(currentComments));\r\n    }\r\n\r\n\r\n    const initCommentsDB = () => {\r\n        let dbStr = localStorage.getItem(\"commentsDB\");\r\n        let db = JSON.parse(dbStr);\r\n        if (db) {\r\n            setCurrentComments(db);\r\n        }\r\n    }\r\n\r\n    const deleteComment = (commentId) => {\r\n        let filteredComments = currentComments.filter(c => c.commentId !== commentId);\r\n        setCurrentComments(filteredComments);\r\n        localStorage.setItem(\"commentsDB\", JSON.stringify(filteredComments));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                movieState.isFetching ? <Loader/> :\r\n                    movieState.currentMovie && <div className={s.detailsContainer}>\r\n                        <div className={s.left}>\r\n                            <div className={s.image}>\r\n                                <img className={s.coverImage}\r\n                                     src={movieState.currentMovie.large_cover_image} alt=\"\"/>\r\n                                <div className={s.ratingBlock}>\r\n                                    <img src={rate} alt=\"\"/>\r\n                                    <div\r\n                                        className={s.ratingNum}>{movieState.currentMovie.rating}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={s.right}>\r\n                            <div className={s.shortInfoMovie}>\r\n                                <div className={s.titleMovie}>{movieState.currentMovie.title}</div>\r\n                                <div className={s.yearMovie}>{movieState.currentMovie.year}</div>\r\n                                <div>{movieState.currentMovie.genres.map((g, i) => <div\r\n                                    className={s.genreItem} key={`${g}_${i}`}>{g}</div>)}</div>\r\n                                <div className={s.synopsis}>Synopsis</div>\r\n                                <div className={s.movieAbout}>{movieState.currentMovie.description_full}</div>\r\n                            </div>\r\n                            <div className={s.commentsBody}>\r\n                                <form action=\"\"\r\n                                      onSubmit={(e) => handleSubmit(e)}\r\n                                      onKeyDown={(e) => {\r\n                                          if (e.code === \"Enter\") {\r\n                                              localStorage.setItem(\"commentsDB\", JSON.stringify([...currentComments, addComment(commentText)]));\r\n                                          }\r\n                                      }}\r\n                                >\r\n                                    <div className={s.commentsTitle}>Comments</div>\r\n                                    <div className={s.outputComments}>\r\n                                        {\r\n                                            currentComments && currentComments.filter(m => m.movieId === movieId).map((c, i) =>\r\n                                                <div className={s.comment} key={`${c}_${i}`}>\r\n                                                    <div className={s.author}>{c.author}</div>\r\n                                                    <div className={s.time}>{c.time}</div>\r\n                                                    <div className={s.text}>{c.commentText}</div>\r\n                                                    <div className={s.delButton}\r\n                                                         onClick={() => deleteComment(c.commentId)}>\r\n                                                    </div>\r\n                                                </div>)\r\n                                        }\r\n                                    </div>\r\n                                    <div className={s.inputArea}>\r\n                                        <textarea onChange={onChangeHandler}\r\n                                                  value={commentText} placeholder=\"Leave a comment\"\r\n                                        >\r\n                                        </textarea><br/>\r\n                                        <button type=\"submit\" className={s.buttonComm}\r\n                                                onClick={() => addComment(commentText)}>\r\n                                            <img src={send} alt=\"\"/>\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n","import './App.css';\nimport Header from \"./components/Header/Header\";\nimport Movies from \"./components/Movies/Movies\";\nimport {Route} from \"react-router-dom\";\nimport MovieDetailsPage from \"./components/MovieDetailsPage/MovieDetailsPage\";\n\nfunction App() {\n    return (\n        <>\n            <Header/>\n            <div className=\"container\">\n                <Route exact path=\"/\" component={Movies}/>\n                <Route path=\"/movie/:movieId?\" component={MovieDetailsPage}/>\n            </div>\n        </>\n    );\n}\n\nexport default App;\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport moviesReducer from \"./reducers/moviesReducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    movies:moviesReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <HashRouter>\n                <App/>\n            </HashRouter>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}